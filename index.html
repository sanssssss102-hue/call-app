<!DOCTYPE html>
<html>
<head>
    <title>Classroom Portal</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #000; font-family: sans-serif; }
        #jitsi-container { height: 100vh; width: 100vw; }
        #error-msg { color: white; text-align: center; padding-top: 50px; }
    </style>
</head>
<body>
    <div id="jitsi-container"></div>

    <script src="https://meet.jit.si/external_api.js"></script>
    <script>
        // 1. Grab the "room" name from the URL (e.g., ?room=Math101)
        const urlParams = new URLSearchParams(window.location.search);
        const roomFromUrl = urlParams.get('room');

        if (!roomFromUrl) {
            document.body.innerHTML = '<div id="error-msg"><h2>No Room Specified</h2><p>Please use a link with a room name, like ?room=TeacherName</p></div>';
        } else {
            const domain = "meet.jit.si";
            const options = {
                roomName: "Classroom_" + roomFromUrl, // This makes it unique
                width: "100%",
                height: "100%",
                parentNode: document.querySelector('#jitsi-container'),
                configOverwrite: { prejoinPageEnabled: true }
            };
            const api = new JitsiMeetExternalAPI(domain, options);
        }
    </script>
</body>
</html>
